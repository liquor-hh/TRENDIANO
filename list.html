<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List</title>
    <link rel="stylesheet" href="./css/list.css">
    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3165032_pp5i9n6z3l.css">
</head>

<body>
    <div class="trend_header">
        <div class="inner">
            <div class="container">
                <a href="#">
                    <h2></h2>
                </a>
                <div class="top-link">
                    <ul class="clearfix">
                        <li><a href="./login.html">登录</a></li>
                        <li><a href="./register.html">注册</a></li>
                        <li><a href="#">我的账户</a></li>
                        <li><a href="#"><i class="iconfont icon-jia"></i>我的收藏</a></li>
                        <li><a href="#"><i class="iconfont icon-gouwudai"></i>购物袋[0]</a></li>
                    </ul>
                    <input class="search_input" type="text" placeholder="搜索您感兴趣的内容">
                    <button class="search"><i class="iconfont icon-ai219"></i></button>
                </div>
            </div>
        </div>
        <div class="nav-top">
            <div class="container">
                <ul class="clearfix">
                    <li><a href="">首页</a></li>
                    <li><a href="">品牌动向</a></li>
                    <li><a href="">新品资讯</a></li>
                    <li>
                        <a href="">精选货品</a>
                        <div class="drop">
                            <div class="drop-inner">
                                <h4>VIP DAY 1</h4>
                                <ul class="clearfix">
                                    <li><a href="">1件8折</a></li>
                                    <li><a href="">1件7折内搭专区</a></li>
                                    <li><a href="">1件7折</a></li>
                                    <li><a href="">1件7折裤装专区</a></li>
                                    <li><a href="">精选折扣</a></li>
                                    <li><a href="">1件7折-饰品专区</a></li>
                                    <li><a href="">1件7折外套专区</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a href="">到店新品</a>
                        <div class="drop">
                            <div class="drop-inner">
                                <h4>NEW IN</h4>
                                <ul class="clearfix">
                                    <li><a href="">3月31号到店</a></li>
                                    <li><a href="">3月17号到店</a></li>
                                    <li><a href="">3月3号到店</a></li>
                                    <li><a href="">全部新品</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a href="">跨界合作</a>
                        <div class="drop">
                            <div class="drop-inner">
                                <h4>IP</h4>
                                <ul class="clearfix">
                                    <li><a href="">KEEP SMIL ING艺术胶囊</a></li>
                                    <li><a href="">高系列</a></li>
                                    <li><a href="">阿童木联名款</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a href="">特惠专区</a>
                        <div class="drop">
                            <div class="drop-inner">
                                <h4>VIP SALE</h4>
                                <ul class="clearfix">
                                    <li><a href="">特惠商品</a></li>
                                    <li><a href="">特惠-裤装专区</a></li>
                                    <li><a href="">秒杀专区</a></li>
                                    <li><a href="">特惠-饰品专区</a></li>
                                    <li><a href="">特惠-外套专区</a></li>
                                    <li><a href="">特惠-内搭专区</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a href="">服装</a>
                        <div class="drop">
                            <div class="drop-inner">
                                <h4>NEW IN SHANG</h4>
                                <ul class="clearfix">
                                    <li><a href="">T恤/POLO</a></li>
                                    <li><a href="">裤装</a></li>
                                    <li><a href="">羽绒服</a></li>
                                    <li><a href="">衬衫</a></li>
                                    <li><a href="">风衣</a></li>
                                    <li><a href="">棉衣</a></li>
                                    <li><a href="">卫衣</a></li>
                                    <li><a href="">针织衫</a></li>
                                    <li><a href="">毛呢大衣</a></li>
                                    <li><a href="">夹克</a></li>
                                    <li><a href="">皮衣</a></li>
                                    <li><a href="">西服</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a href="">鞋/配饰</a>
                        <div class="drop">
                            <div class="drop-inner">
                                <h4>SHOES</h4>
                                <ul class="clearfix">
                                    <li><a href="">休闲鞋</a></li>
                                    <li><a href="">袜子</a></li>
                                    <li><a href="">凉鞋/拖鞋</a></li>
                                    <li><a href="">其它配饰</a></li>
                                    <li><a href="">包包</a></li>
                                    <li><a href="">帽子</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li class="last">客服营业时间:周一至周五 9:00-18:00
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-bottom">
            <div class="container">
                <h3>阿童木联名款</h3>
            </div>
        </div>
    </div>
    <div class="main_wrap">
        <div class="container clearfix">
            <div class="aside_left">
                <ul>
                    <li>
                        <a href="">KEEP SMILING</a>
                    </li>
                    <li>
                        <a href="">宫系列</a>
                    </li>
                    <li>
                        <a href="">阿童木联名款</a>
                    </li>
                </ul>
                <div class="size">
                    <span>尺寸筛选</span>
                    <div class="clothes">
                        <span>服装类</span>
                        <ul>
                            <li>
                                <a href="">XS</a>
                            </li>
                            <li>
                                <a href="">S</a>
                            </li>
                            <li>
                                <a href="">M</a>
                            </li>
                            <li>
                                <a href="">L</a>
                            </li>
                            <li>
                                <a href="">XL</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="aside_right">
                <div class="filter clearfix">
                    <ul class="sort clearfix">
                        <li class="no_effect">排序:</li>
                        <li>
                            <a href="">默认</a>
                        </li>
                        <li class="init">
                            <a class="back_turn" href="">进店</a>
                        </li>
                        <li>
                            <span class="title">价格</span>
                            <span class="sort_way">
                                <a class="asc" href="">↑</a>
                                <a class="desc" href="">↓</a>
                            </span>
                        </li>
                    </ul>
                    <ul class="count clearfix">
                        <li class="no_effect">显示:</li>
                        <li>
                            <a href="">30</a>
                        </li>
                        <li>
                            <a href="">90</a>
                        </li>
                        <li class="no_effect">
                            共一页
                        </li>
                    </ul>
                </div>
                <div class="main_list">
                    <ul class="clearfix">
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="foot_parts">
        <div class="container clearfix">
            <div class="part1">
                <h5>活动日历</h5>
                <div class="month">
                    <span>APR</span>
                    6
                </div>
                <div class="date">
                    <img src="./image/20180508115202738.png" alt="">
                </div>
            </div>
            <div class="part2">
                <h5>官方微信</h5>
                <div class="code">
                    <img src="./image/weixin_code.png" alt="">
                </div>
                <h5>关注微博</h5>
                <a href="">关注TRENDIANO官方微博
                </a>
            </div>
            <div class="part3">
                <h5>品牌资讯</h5>
                <div class="img-wrap">
                    <a href=""><img src="./image/20220402153837235.jpg" alt=""></a>
                </div>
            </div>
            <div class="part4">
                <h5>ABOUT US</h5>
                <p>
                    <a href="">购物流程</a>
                    <a href="">支付方式</a>
                </p>
                <p>
                    <a href="">退货流程</a>
                    <a href="">配送说明</a>
                </p>
                <p>
                    <a href="">关于我们</a>
                </p>
                <div class="serve">
                    <a href="">联系客服</a>
                    <p>客服400-880-0086</p>
                    <P>7天无条件退货</P>
                </div>
                <span class="pay"></span>
                <span class="pay2"></span>
            </div>
        </div>
    </div>
    <div class="foot_copyright">
    <div class="topFix">
        <a class="top" href="#">TOP</a>
        <a href="./index.html">返回首页</a>
    </div>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
        var arr = []
        var dropNav = document.querySelectorAll('.trend_header .nav-top .container>ul>li')
        for (var i = 3; i < dropNav.length - 1; i++) {
            dropNav[i].index = i
            dropNav[i].onmouseenter = function () {
                var drop = this.children[1]
                drop.classList.add('drop_turn')
            }
            dropNav[i].onmouseleave = function () {
                var drop = this.children[1]
                drop.classList.remove('drop_turn')
            }
        }
        var display = $('.aside_right .filter')
        $(window).scroll(function () {
            var navHeight = $('.trend_header').outerHeight() - 80
            if ($(this).scrollTop() > navHeight) {
                $('.topFix .top').show()
                $('.nav-top').addClass('nav_turn')  
                $('.nav-bottom').addClass('nav-bottom_turn')
                $('.nav-bottom h3').addClass('turn')
                $('.nav-bottom .container').append(display)
                display.addClass('turn')
            } else {
                $('.topFix .top').hide()
                $('.nav-top').removeClass('nav_turn')
                $('.nav-bottom').removeClass('nav-bottom_turn')
                $('.nav-bottom h3').css('line-height', '80px')
                $('.aside_right').prepend(display)
            }
        })
        $('.nav-bottom a').hover(function() {
            if(!$(this).hasClass('back_turn')) {    
                console.log(1111);
                $(this).css('color','black !important')
            }
        }, function() {
            $(this).css('color','#fff')
        })
        var goTop = document.querySelector('.topFix .top')
        goTop.onclick = function (event) {
            event.preventDefault()
            $('html').animate({ 'scrollTop': 0 })
        }
        var arr = [
            {
                id: 1,
                img: './image/list1_ (1).jpg',
                price: 899
            },
            {
                id: 2,
                img: './image/list1_ (2).jpg',
                price: 599
            },
            {
                id: 3,
                img: './image/list1_ (3).jpg',
                price: 1690
            },

            {
                id: 4,
                img: './image/list1_ (4).jpg',
                price: 999
            },

            {
                id: 5,
                img: './image/list1_ (5).jpg',
                price: 999
            },

            {
                id: 6,
                img: './image/list1_ (6).jpg',
                price: 999
            },

            {
                id: 7,
                img: './image/list1_ (7).jpg',
                price: 899
            },

            {
                id: 8,
                img: './image/list1_ (8).jpg',
                price: 699
            },

            {
                id: 9,
                img: './image/list1_ (9).jpg',
                price: 699
            },
        ]
        var ul = document.querySelector('.aside_right .main_list ul')
        var item = document.querySelectorAll('.aside_right .main_list ul li')
        function sortInit(arrCreate) {
            //排序之前删除原队列
            if (ul.hasChildNodes()) {
                for (var i = 0; i < ul.childElementCount; i++) {
                    ul.removeChild(ul.childNodes[i])
                    i = -1
                }
            }
            arrCreate.forEach(function (ele) {
                var li = document.createElement('li')
                li.innerHTML = `<a href=""><img class = 'img' src="${ele.img}" alt=""></a><div class="content"><a href="">TRENDIANO <br>【阿童木特惠】阿童木束脚休闲裤子</a></div><span>￥${ele.price}</span>`
                ul.append(li)
            })
            imgTurn(arrCreate)
        }
        //初始化
        sortInit(arr)
        var imgShow = document.querySelectorAll('.aside_right .main_list ul li a')
        //移入移出，改变图片
        function imgTurn(arrCreate) {
            var img = document.querySelectorAll('.img')
            for (var i = 0; i < arr.length; i++) {
                (function (j) {
                    img[j].onmouseenter = function () {
                        img[j].setAttribute('src', `./image/list2_ (${arrCreate[j].id}).jpg`)
                    }
                    img[j].onmouseleave = function () {
                        img[j].setAttribute('src', `./image/list1_ (${arrCreate[j].id}).jpg`)
                    }
                })(i)
            }
        }
        var init = document.querySelector('.aside_right .sort .init>a')
        //划过标签时，看当前标签是否有背景，没有则添加，划出时删除
        $('.aside_right .filter>ul>li').hover(function () {
            if (!$(this).hasClass('back_turn')) {
                $(this).addClass('hover_turn')
            }
        }, function () {
            $(this).removeClass('hover_turn')
        })
        //点击标签，添加背景
        init.onclick = function (event) {
            event.preventDefault()
            sortInit(arr)
            this.classList.add('back_turn')
            $(this).parent().siblings().children().removeClass('back_turn')
            $(this).parent().siblings().children().children().removeClass('back_turn')
            $('.aside_right .sort li:last-child').find('.sort_way').hide()
            flag = ''
        }
        var title = document.querySelector('.aside_right .sort li:last-child .title')
        //划过价格标签，出现右侧箭头
        title.onmouseenter = function () {
            this.nextElementSibling.style.display = 'inline'
            this.classList.remove('back_turn')
            this.nextElementSibling.children[0].classList.remove('back_turn')
            this.nextElementSibling.children[1].classList.remove('back_turn')
            this.nextElementSibling.children[0].style.display = 'inline-block'
            this.nextElementSibling.children[1].style.display = 'inline-block'
        }
        var sort = document.querySelector('.aside_right .sort li:last-child .sort_way')
        var flag = '' //记录当前顺序
        sort.onclick = function (e) {
            e.preventDefault()
            var tag = e.target
            if (tag.className === 'asc') {
                var arrAsc = arr.slice().sort(function (a, b) {
                    return a.price - b.price
                })
                sortInit(arrAsc)
                flag = 'asc'
            }
            if (tag.className === 'desc') {
                var arrAsc = arr.slice().sort(function (a, b) {
                    return b.price - a.price
                })
                sortInit(arrAsc)
                flag = 'desc'
            }
        }
        //只有划过排序的箭头才会显示当前顺序，并把价格标签和箭头添加黑色背景；划过价格标签不会显示和改变背景
        sort.onmouseleave = function () {
            if (flag === 'asc') {
                this.children[1].style.display = 'none'
                this.children[0].style.display = 'inline-block'
                this.children[0].classList.add('back_turn')
                this.children[1].classList.remove('back_turn')
                this.previousElementSibling.classList.add('back_turn')
                $(this).parent().siblings().children().removeClass('back_turn')
            } else if (flag === 'desc') {
                this.children[0].style.display = 'none'
                this.children[1].style.display = 'inline-block'
                this.children[1].classList.add('back_turn')
                this.children[0].classList.remove('back_turn')
                this.previousElementSibling.classList.add('back_turn')
                $(this).parent().siblings().children().removeClass('back_turn')
            }
        }
    </script>
</body>

</html>